(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a.p+"static/media/Spotify_Logo.31bad8d4.png"},49:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),i=a(43),o=a(5),l=a(16),u=a(2),m=a(3),p=a(6),h=a(4),d=a(7),f=a(17),y=a(19),g=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderHeader",value:function(){return r.a.createElement("header",{className:"navbar"},r.a.createElement(y.a,{to:"/top-tracks",className:"navbar-item"},"Tracks"),r.a.createElement(y.a,{to:"/top-artists",className:"navbar-item"},"Artists"),r.a.createElement(y.a,{to:"/recently-played",className:"navbar-item"},"Recent"),r.a.createElement(y.a,{to:"/now-playing",className:"navbar-item"},"Now Playing"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderHeader())}}]),t}(r.a.Component),E=Object(o.b)(function(e){return{route:e.route}})(g),b=a(15),v=a.n(b),N=a(20),O=a(46),k=a.n(O).a.create({baseURL:"https://api.spotify.com/v1/me/"}),j=a(11),_=Object(j.a)(),w=function(e){return{type:"CURRENT_ROUTE",payload:e}},T=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={range:"All Time"},a.handleClick=function(e,t){a.props.topTracks(e),a.setState({range:t})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.topTracks(),this.props.currentRoute(this.props.location.pathname)}},{key:"renderList",value:function(){if(!this.props.items.tracks)return null;var e=0;return this.props.items.tracks.map(function(t){return r.a.createElement("div",{className:"scope-item",key:"track-".concat(e++)},r.a.createElement("div",{className:"scope-item-number"},e),r.a.createElement("a",{href:t.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"scope-item-title"},t.name)),r.a.createElement("a",{href:t.artists[0].external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"scope-item-subtitle"},"by ",t.artists[0].name)))})}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"scope-section"},r.a.createElement("div",{className:"left-side"},r.a.createElement("div",{className:"scope-description"},r.a.createElement("h1",{className:"top"},"Top"),r.a.createElement("h1",{className:"scope"},"Tracks"),r.a.createElement("h2",{className:"sub-scope"},"of"),r.a.createElement("div",{className:"dropdown"},r.a.createElement("h2",{className:"time-range dropbtn"},this.state.range),r.a.createElement("div",{className:"dropdown-content"},r.a.createElement("a",{onClick:function(){return e.handleClick("long_term","All Time")}},"All Time"),r.a.createElement("a",{onClick:function(){return e.handleClick("medium_term","Last 6 Months")}},"Last 6 Months"),r.a.createElement("a",{onClick:function(){return e.handleClick("short_term","Last Month")}},"Last Month"))))),r.a.createElement("div",{className:"right-side"},r.a.createElement("div",{className:"scope-list tracks"},this.renderList())))}}]),t}(r.a.Component),I=Object(o.b)(function(e){return{items:e.items}},{topTracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long_term";arguments.length>1&&arguments[1];return function(){var t=Object(N.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/top/tracks",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},params:{limit:15,time_range:e}}).then(function(t){a({type:"TOP_TRACKS",payload:t.data,timeRange:e})}).catch(function(e){a({type:"SIGN_IN",isSignedIn:!1}),_.push("/")});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},currentRoute:w})(T),S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={range:"All Time"},a.handleClick=function(e,t){a.props.topArtists(e),a.setState({range:t})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.topArtists(),this.props.currentRoute(this.props.location.pathname)}},{key:"renderList",value:function(){if(!this.props.items.artists)return null;var e=0;return this.props.items.artists.map(function(t){return r.a.createElement("div",{className:"scope-item artists",key:"artist-".concat(e++)},r.a.createElement("div",{className:"img-overlay"},r.a.createElement("img",{className:"scope-item-img artists",alt:t.name,src:t.images[0].url}),r.a.createElement("div",{className:"scope-item-number artists"},e)),r.a.createElement("a",{href:t.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"scope-item-title artists"},t.name)))})}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"scope-section"},r.a.createElement("div",{className:"left-side"},r.a.createElement("div",{className:"scope-description"},r.a.createElement("h1",{className:"top"},"Top"),r.a.createElement("h1",{className:"scope"},"Artists"),r.a.createElement("h2",{className:"sub-scope"},"of"),r.a.createElement("div",{className:"dropdown"},r.a.createElement("h2",{className:"time-range dropbtn"},this.state.range),r.a.createElement("div",{className:"dropdown-content"},r.a.createElement("a",{onClick:function(){return e.handleClick("long_term","All Time")}},"All Time"),r.a.createElement("a",{onClick:function(){return e.handleClick("medium_term","Last 6 Months")}},"Last 6 Months"),r.a.createElement("a",{onClick:function(){return e.handleClick("short_term","Last Month")}},"Last Month"))))),r.a.createElement("div",{className:"right-side"},r.a.createElement("div",{className:"scope-list artists"},this.renderList())))}}]),t}(r.a.Component),R=Object(o.b)(function(e){return{items:e.items}},{topArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long_term";return function(){var t=Object(N.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/top/artists",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},params:{limit:15,time_range:e}}).then(function(t){a({type:"TOP_ARTISTS",payload:t.data,timeRange:e})}).catch(function(e){a({type:"SIGN_IN",isSignedIn:!1}),_.push("/")});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},currentRoute:w})(S),C=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.recentlyPlayed(),this.props.currentRoute(this.props.location.pathname)}},{key:"renderList",value:function(){if(!this.props.items.recent)return null;var e=0;return this.props.items.recent.map(function(t){return r.a.createElement("div",{className:"scope-item",key:"recent-".concat(e++)},r.a.createElement("a",{href:t.track.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"scope-item-title"},t.track.name)),r.a.createElement("a",{href:t.track.artists[0].external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"scope-item-subtitle"},"by ",t.track.artists[0].name)))})}},{key:"render",value:function(){return r.a.createElement("section",{className:"scope-section"},r.a.createElement("div",{className:"left-side"},r.a.createElement("div",{className:"scope-description"},r.a.createElement("h1",{className:"top"},"Recently"),r.a.createElement("h1",{className:"scope recent"},"Played"))),r.a.createElement("div",{className:"right-side"},r.a.createElement("div",{className:"scope-list recent"},this.renderList())))}}]),t}(r.a.Component),A=Object(o.b)(function(e){return{items:e.items}},{recentlyPlayed:function(){return function(){var e=Object(N.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/player/recently-played",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},params:{limit:15}}).then(function(e){t({type:"RECENTLY_PLAYED",payload:e.data})}).catch(function(e){t({type:"SIGN_IN",isSignedIn:!1}),_.push("/")});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},currentRoute:w})(C),x=a(26),L=a.n(x),P=["user-top-read","user-read-currently-playing","user-read-playback-state","user-read-recently-played"],M=window.location.hash.substring(1).split("&").reduce(function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e},{});window.location.hash="";var D=M,U=a(47),G=a.n(U),z=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=D.access_token;e&&this.props.signIn(e),this.props.currentRoute(this.props.location.pathname)}},{key:"renderAuthButton",value:function(){if(!this.props.isSignedIn||null===this.props.isSignedIn)return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement("style",null,"header{display:none !important;}")),r.a.createElement("div",{className:"login-section"},r.a.createElement("img",{src:G.a,className:"spotify-logo",alt:"Spotify"}),r.a.createElement("p",{style:{fontSize:"30px"}},"This application lets you know which tracks and artists you listen to the most."),r.a.createElement("a",{className:"login-button",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("eca39cf929df498f8dd127acf5044a43","&redirect_uri=").concat("https://mjalechuga.github.io/react-spotify-app/","&scope=").concat(P.join("%20"),"&response_type=token&show_dialog=true")},"LOG IN TO SPOTIFY")))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderAuthButton())}}]),t}(r.a.Component),B=Object(o.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},{signIn:function(e){return function(){var t=Object(N.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/",{headers:{Authorization:"Bearer ".concat(e)}});case 2:n=t.sent,localStorage.setItem("TOKEN",e),a({type:"SIGN_IN",isSignedIn:!0}),a({type:"CURRENT_USER",payload:n.data}),_.push("/top-tracks");case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},currentRoute:w})(z),F=a(48),K=a.n(F),Y=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.nowPlaying(),this.props.currentRoute(this.props.location.pathname)}},{key:"renderDetails",value:function(){return this.props.items.current?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{image:this.props.items.current.album.images[0].url},function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement("style",null," .now-playing{  background: #090c0f;\n                                    background: -webkit-linear-gradient(#090c0f, ".concat(e.vibrant,");\n                                    background:    -moz-linear-gradient(#090c0f, ").concat(e.vibrant,");\n                                    background:         linear-gradient(#090c0f, ").concat(e.vibrant,");}"))))}),r.a.createElement("div",{className:"now-playing"},r.a.createElement("a",{href:this.props.items.current.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:this.props.items.current.album.images[0].url,className:"now-playing-img",alt:"".concat(this.props.items.current.name," by ").concat(this.props.items.current.artists[0].name)})),r.a.createElement("a",{href:this.props.items.current.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h1",{className:"now-playing-title"},this.props.items.current.name)),r.a.createElement("a",{href:this.props.items.current.artists[0].external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h2",{className:"now-playing-artist"},this.props.items.current.artists[0].name)))):null}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderDetails())}}]),t}(r.a.Component),H=Object(o.b)(function(e){return{items:e.items}},{nowPlaying:function(){return function(){var e=Object(N.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/player/currently-playing",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}}).then(function(e){t({type:"NOW_PLAYING",payload:e.data})}).catch(function(e){t({type:"SIGN_IN",isSignedIn:!1}),_.push("/")});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},currentRoute:w})(Y),J=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.b,{history:_},r.a.createElement("div",{className:"container"},r.a.createElement(E,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:B}),r.a.createElement(f.a,{path:"/top-tracks",exact:!0,component:I}),r.a.createElement(f.a,{path:"/top-artists",exact:!0,component:R}),r.a.createElement(f.a,{path:"/recently-played",exact:!0,component:A}),r.a.createElement(f.a,{path:"/now-playing",exact:!0,component:H})))))}}]),t}(r.a.Component),W=a(13),X={isSignedIn:null},V=a(27),q={path:"/"},Q=Object(l.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(W.a)({},e,{isSignedIn:t.isSignedIn});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_USER":return Object(W.a)({},e,{details:t.payload});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOP_TRACKS":return Object(W.a)({},e,{tracks:Object(V.a)(t.payload.items),timeRange:{tracks:t.timeRange}});case"TOP_ARTISTS":return Object(W.a)({},e,{artists:Object(V.a)(t.payload.items),timeRange:{artists:t.timeRange}});case"RECENTLY_PLAYED":return Object(W.a)({},e,{recent:Object(V.a)(t.payload.items)});case"NOW_PLAYING":return Object(W.a)({},e,{current:t.payload.item});default:return e}},route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_ROUTE":return Object(W.a)({},e,{path:t.payload});default:return e}}}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,$=Object(l.e)(Q,Z(Object(l.a)(i.a)));s.a.render(r.a.createElement(o.a,{store:$},r.a.createElement(J,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.bbc9ccd0.chunk.js.map